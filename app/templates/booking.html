{% extends 'base.html' %}

{% block title %}Booking for {{ competition['name'] }} || GUDLFT{% endblock %}

{% block header %}<h2>{{ competition['name'] }}</h2>{% endblock %}

{% block content %}
    <div style="padding: 2rem;">
        <p>Points available: {{ club['points'] }}</p>
        <p>Places available: {{ competition['number_of_places'] }}</p>
        <form action="/booking" method="post">
            <div class="mb-3">
                <input type="hidden" name="club" value="{{club['name']}}">
                <input type="hidden" name="competition" value="{{competition['name']}}">
                <label for="places" class="form-label">How many places?</label>
                {% if club['points']|int > 12 and competition['number_of_places']|int > 12 %}
                    <input type="number" placeholder="12 places max" class="form-control" name="places" id="places" min="0" max="12" required/>
                {% elif club['points']|int > 12 and competition['number_of_places']|int < 12 %}
                <input type="number" placeholder="12 places max" class="form-control" name="places" id="places" min="0" max="{{competition['number_of_places']}}" required/>
                {% else %}
                    <input type="number" placeholder="12 places max" class="form-control" name="places" id="places" min="0" max="{{ club['points'] }}" required/>
                {% endif %}
            </div>
            <button type="submit" class="btn btn-primary">Book</button>
        </form>
    </div>
{% endblock %}